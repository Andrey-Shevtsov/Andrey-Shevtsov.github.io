# Подключение биометрических терминалов

## Предварительные настройки

Примечание: В данном примере рассматривается подключение терминала ZKTeco SpeedFace V5L.
Подключение других моделей производится аналогично.  

Подключаемое устройство должно находиться в одной локальной сети с сервером, на котором
установлено программное обеспечение.  

Устройство устанавливает соединение с сервером по его IP-адресу. Поэтому перед добавлением
терминалов рекомендуется настроить на стороне статический IP-адрес. Для того чтобы сделать это - 
нажмите на <shortcut>Win + R</shortcut> и в открывшемся окне введите `ncpa.cpl`, а затем
нажмите <shortcut>Enter</shortcut>.

<img src="windows-run-window.png" alt="default"/>

В открывшемся окне выберите Ваше активное подключение, нажмите на него правой кнопкой мыши и 
выберите пункт `Свойства`. Здесь выберите пункт `IP версии 4 (TCP/IPv4)` и дважды кликните по
нему левой кнопкой мыши. В открывшемся окне настроек поставьте галочки на пунктах 
`Использовать следующий IP-адрес:` и `Использовать следующие адреса DNS-серверов:`. Теперь Вы
можете указать незанятый IP-адрес из текущей локальной сети (пример показан на рисунке ниже).

<img src="static-ip-settings.png" alt="default"/>

Заполнив поля, нажмите кнопку `OK` в текущем и предыдущем окнах, после чего новые настройки 
будут применены и компьютеру будет задан статический IP-адрес.

<procedure title="Алгоритм добавления биометрического терминала">
<p>Подключаемые к программе устройства будут отображаться автоматически. Алгоритм
подключения терминалов к ПО включает в себя следующие шаги:</p>
<step>
    Создание зоны для добавления устройств.
</step>
<step>
    Настройка параметров подключения биометрического терминала к серверу.
</step>
<step>
    Добавление устройства в соответствующую зону.
</step>
</procedure>

## Создание зоны для добавления устройств

> Зона - структура, в которую помещаются устройства для последующей работы с ними.

В программе может быть несколько зон, но одно устройство одновременно может быть 
добавлено только в одну из них.

В программе по умолчанию существует зона "Not Authorized". Она предназначена для
обнаружения подключаемых устройств.

Чтобы создать новую зону - перейдите в раздел `Устройство`. Перед Вами откроется раздел
для добавления новых и управления уже подключенными устройствами. В верхней панели 
нажмите на кнопку `Новая зона`.

<img src="create-new-zone.png" alt="default"/>

В открывшемся окне укажите код создаваемой зоны и название. Пункт `Родит. зона` не обязателен
и служит для создания вложенных связей между зонами. После чего нажмите `Подтвердить`.

<img src="create-zone-window.png" alt="default"/>

Теперь, когда новая зона создана, можно перейти к настройке биометрического терминала.

## Настройка параметров подключения биометрического терминала к серверу

Для того, чтобы добавить терминал в систему - нужно задать параметры подключения к серверу.

> Сервер (здесь и далее) - компьютер, на котором установлено программное обеспечение.

Для этого необходимо войти в главное меню терминала и перейти в раздел `Система`.

<img src="main-menu.bmp" alt="default" height="640"/>

В открывшемся меню необходимо выбрать раздел `Настройки типа устройства`.

<img src="system-menu.bmp" alt="default" height="640"/>

Большинство наших устройств может работать в двух режимах - УРВ и СКД.

> Режим УРВ - режим учета рабочего времени.
>
> Режим СКД - режим системы контроля доступа.

Для подключения устройства к программному обеспечению ZKBio Time необходимо перевести его в режим УРВ.

<img src="dev-type-menu.bmp" alt="default" height="640"/>

После подтверждения устройство перезагрузится. Следующим шагом будет ввод параметров подключения к серверу.
Для этого снова войдите в меню и перейдите в раздел `Связь`.

<img src="main-menu-comm.bmp" alt="default" height="640"/>

<tabs>
<tab title="Настройка локальной сети">
В зависимости от конфигурации Вашей локальной сети Вы можете включить автоматическую настройку локальной
сети, либо указать нужные параметры вручную. Для этого перейдите в раздел настроек Ethernet и заполнить все
необходимые параметры, либо включить опцию DHCP, чтобы устройство получило параметры от DHCP-сервера.
<img src="comm-settings.bmp" alt="default" height="640"/>
</tab>
<tab title="Настройки облачного сервиса">
Для подключения устройства к серверу необходимо ввести параметры подключения. Это делается в разделе настроек
облачного сервиса. Здесь Вам необходимо указать следующие параметры:  
<list>
<li>
Адрес сервера - IP-адрес Вашего сервера;
</li>
<li>
Порт сервера - порт, который Вы указали во время установки ПО;
</li>
<li>
Настройки HTTPS - выставить в зависимости от того, оставили ли Вы галочку в поле "Использовать HTTPS" во
время установки ПО.
</li>
</list>
<img src="server-settings.bmp" alt="default" height="640"/>
</tab>
</tabs>

Указав настройки облачного сервиса, проверьте раздел `Устройство` в программе. Если все настройки
указаны верно - Вы увидите в ней новое устройство.

<img src="new-dev.png" alt="default"/>

Для того чтобы полностью добавить терминал - нажмите на имя нового устройства левой кнопкой
мыши и в открывшемся окне укажите новые имя устройства, зону и часовой пояс.

<img src="edit-device.png" alt="default"/>

После чего нажмите кнопку `Подтвердить`. Указанные Вами параметры будут переданы устройству, а
статус устройства сменится с "В ожидании" на "Онлайн".

<img src="dev-online.png" alt="default"/>

Добавление устройства завершено. Теперь можно перейти к добавлению сотрудников.